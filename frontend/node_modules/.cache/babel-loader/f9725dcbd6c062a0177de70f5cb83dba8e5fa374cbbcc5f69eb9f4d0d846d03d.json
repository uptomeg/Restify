{"ast":null,"code":"/*\r\n * ajax.js\r\n */\n\nexport async function ajax(url, settings) {\n  const domain = \"http://localhost:8000\";\n  return await fetch(domain + url, settings);\n}\nexport async function ajax_or_login(url, settings, navigate) {\n  const token = \"Bearer \" + localStorage.getItem('access');\n  if ('headers' in settings) {\n    settings.headers['Authorization'] = token;\n  } else {\n    settings['headers'] = {\n      Authorization: token\n    };\n  }\n  const response = await ajax(url, settings);\n  switch (response.status) {\n    case 401:\n    case 403:\n      navigate('/login/');\n      break;\n    default:\n      break;\n  }\n  return response;\n}","map":{"version":3,"names":["ajax","url","settings","domain","fetch","ajax_or_login","navigate","token","localStorage","getItem","headers","Authorization","response","status"],"sources":["/Users/renam/Desktop/group_2256/P3/frontend/src/ajax.js"],"sourcesContent":["/*\r\n * ajax.js\r\n */\r\n\r\nexport async function ajax(url, settings) {\r\n    const domain = \"http://localhost:8000\";\r\n    return await fetch(domain + url, settings);\r\n}\r\n\r\nexport async function ajax_or_login(url, settings, navigate) {\r\n    const token = \"Bearer \" + localStorage.getItem('access');\r\n\r\n    if ('headers' in settings) {\r\n        settings.headers['Authorization'] = token;\r\n    }\r\n    else {\r\n        settings['headers'] = {\r\n            Authorization : token,\r\n        }\r\n    }\r\n\r\n    const response = await ajax(url, settings);\r\n    switch (response.status) {\r\n    case 401:\r\n    case 403:\r\n        navigate('/login/');\r\n        break;\r\n    default:\r\n        break;\r\n    }\r\n    \r\n    return response;\r\n}\r\n"],"mappings":"AAAA;AACA;AACA;;AAEA,OAAO,eAAeA,IAAIA,CAACC,GAAG,EAAEC,QAAQ,EAAE;EACtC,MAAMC,MAAM,GAAG,uBAAuB;EACtC,OAAO,MAAMC,KAAK,CAACD,MAAM,GAAGF,GAAG,EAAEC,QAAQ,CAAC;AAC9C;AAEA,OAAO,eAAeG,aAAaA,CAACJ,GAAG,EAAEC,QAAQ,EAAEI,QAAQ,EAAE;EACzD,MAAMC,KAAK,GAAG,SAAS,GAAGC,YAAY,CAACC,OAAO,CAAC,QAAQ,CAAC;EAExD,IAAI,SAAS,IAAIP,QAAQ,EAAE;IACvBA,QAAQ,CAACQ,OAAO,CAAC,eAAe,CAAC,GAAGH,KAAK;EAC7C,CAAC,MACI;IACDL,QAAQ,CAAC,SAAS,CAAC,GAAG;MAClBS,aAAa,EAAGJ;IACpB,CAAC;EACL;EAEA,MAAMK,QAAQ,GAAG,MAAMZ,IAAI,CAACC,GAAG,EAAEC,QAAQ,CAAC;EAC1C,QAAQU,QAAQ,CAACC,MAAM;IACvB,KAAK,GAAG;IACR,KAAK,GAAG;MACJP,QAAQ,CAAC,SAAS,CAAC;MACnB;IACJ;MACI;EAAM;EAGV,OAAOM,QAAQ;AACnB"},"metadata":{},"sourceType":"module","externalDependencies":[]}